# 1.0 Alpha 7

This changelog summarizes new features and breaking changes in EdgeDB 1.0 alpha 7 “Lalande”.

## EdgeQL

## Migrations

We’ve made a lot of progress in implementing features of the RFC 1000 migrations, although this is still a feature under development. Some of the works can be broadly categorized as overall improvement of the proposed migration DDL and the granularity of the control the user has over these proposed changes. More specifically we’ve made a lot of improvements in migrations that alter or remove things from the schema.

Here’s an example of creating a schema with a type that has a property with a default value:

```edgeql-repl
db> start migration to {
...   module default {
...     type Foo {
...       property val -> str {
...         default := 'n/a'
...       }
...     }
...   }
... };
```

We use describe current migration as json to see what EdgeDB is proposing. The JSON format makes it easier to potentially integrate this with other tools. For this example it’s worth turning on json output mode for edgedb REPL:

```edgeql-repl
db> \set output-mode json
db[tx]> describe current migration as json;
[
  {
    "complete": false,
    "confirmed": [],
    "parent": "m16wif5skjyqd6dbp5uwa67qrgw422qcwa3vctx77z7r34yx5mbigq",
    "proposed": {
      "confidence": 1.0,
      "operation_id": "CREATE TYPE default::Foo",
      "prompt": "did you create object type 'default::Foo'?",
      "statements": [{"text": "CREATE TYPE default::Foo {\n
      CREATE OPTIONAL SINGLE PROPERTY val -> std::str {\n
      SET default := 'n/a';\n    };\n};"}]
    }
  }
]
```

Since proposed statements look OK, we can go ahead and just apply the whole migration.

```edgeql-repl
db[tx]> populate migration;
OK: POPULATE MIGRATION
db[tx]> commit migration;
OK: COMMIT MIGRATION
```

Now, let’s remove that default, after all the property is optional.

```edgeql-repl
db> start migration to {
...   module default {
...     type Foo {
...       property val -> str;
...     }
...   }
... };
db[tx]> describe current migration as json;
[
  {
    "complete": false,
    "confirmed": [],
    "parent": "initial",
    "proposed": {
      "confidence": 0.9956623333333332,
      "operation_id": "ALTER TYPE default::Foo",
      "prompt": "did you alter object type 'default::Foo'?",
      "statements": [{"text": "ALTER TYPE default::Foo {\n
      ALTER PROPERTY val {\n        DROP default;\n    };\n};"}]
    }
  }
]
```

The proposed statements will drop default for our property, so all seems to be in order and we can apply this migration, too, using populate migration and commit migration.

We’re currently working on a CLI tool for managing migrations more gracefully and without the need for the user to rely on these low-level commands (like``start migration`` or describe current migration as json). The migration tool is going to use these commands behind the scenes, though.

We’ve also made improvements to the following migration features:

## Command-Line Tools

## Server Command-Line

## Bindings

We now have an improved spec for client API (RFC 1004). Rolling out the support for the full spec will be done in the next release, but some implementation work has already started.

